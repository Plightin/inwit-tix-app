{% extends 'layout.html' %}
{% block title %}Create Event{% endblock %}
{% block content %}
<div class="form-container" style="max-width: 800px;">
    <h1 class="form-title">Create a New Event</h1>
    <form method="post" enctype="multipart/form-data">
        
        <h2 class="form-subtitle">Essential Information</h2>
        <div class="form-group">
            <label for="name">Event Name *</label>
            <input type="text" id="name" name="name" required>
        </div>
        <div class="form-group">
            <label for="description">Description *</label>
            <textarea id="description" name="description" required></textarea>
        </div>
        <div class="form-group">
            <label for="event_datetime">Date and Time *</label>
            <input type="datetime-local" id="event_datetime" name="event_datetime" required>
        </div>
        <div class="form-group">
            <label for="venue">Venue *</label>
            <input type="text" id="venue" name="venue" required>
        </div>
        <div class="form-group">
            <label for="artwork">Event Artwork (JPG or PNG, max 4MB) *</label>
            <input type="file" id="artwork" name="artwork" accept=".jpg, .jpeg, .png" required>
        </div>

        <h2 class="form-subtitle">Event Details & Media</h2>
        <div class="form-group">
            <label for="category">Event Category</label>
            <select id="category" name="category" class="form-group" style="width: 100%; padding: 10px 12px; border: 1px solid #d1d5db; border-radius: 0.5rem;">
                <option value="Music">Music</option>
                <option value="Conference">Conference</option>
                <option value="Sports">Sports</option>
                <option value="Festival">Festival</option>
                <option value="Theater">Theater</option>
                <option value="Other">Other</option>
            </select>
        </div>
        <div class="form-group">
            <label for="organizer_name">Organizer Name (Public)</label>
            <input type="text" id="organizer_name" name="organizer_name" placeholder="e.g., Inwit Entertainment" value="{{ current_user.username }}">
        </div>
        <div class="form-group">
            <label for="contact_info">Public Contact (Email or Phone)</label>
            <input type="text" id="contact_info" name="contact_info" value="{{ current_user.email }}">
        </div>
        <div class="form-group">
            <label for="external_link">External Event Website (Optional)</label>
            <input type="url" id="external_link" name="external_link" placeholder="https://">
        </div>

        <h2 class="form-subtitle">Ticketing & Pricing</h2>
        <p style="color: #6b7280; font-size: 0.9rem; margin-bottom: 1.5rem;">For each ticket type, set a price and the quantity available. Leave both blank to not offer that type.</p>
        <div class="form-group">
            <label for="sales_start_date">Sales Start Date (Optional)</label>
            <input type="datetime-local" id="sales_start_date" name="sales_start_date">
        </div>
        <div class="form-group">
            <label for="sales_end_date">Sales End Date (Optional)</label>
            <input type="datetime-local" id="sales_end_date" name="sales_end_date">
        </div>
        
        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 1rem; align-items: end;">
            <div class="form-group">
                <label for="price_ordinary">Ordinary Price (K)</label>
                <input type="number" id="price_ordinary" name="price_ordinary" step="0.01" min="0">
            </div>
            <div class="form-group">
                <label for="tickets_ordinary">Qty Available</label>
                <input type="number" id="tickets_ordinary" name="tickets_ordinary" min="0">
            </div>
            <div class="form-group">
                <label for="price_vip">VIP Price (K)</label>
                <input type="number" id="price_vip" name="price_vip" step="0.01" min="0">
            </div>
            <div class="form-group">
                <label for="tickets_vip">Qty Available</label>
                <input type="number" id="tickets_vip" name="tickets_vip" min="0">
            </div>
            <div class="form-group">
                <label for="price_vvip">VVIP Price (K)</label>
                <input type="number" id="price_vvip" name="price_vvip" step="0.01" min="0">
            </div>
             <div class="form-group">
                <label for="tickets_vvip">Qty Available</label>
                <input type="number" id="tickets_vvip" name="tickets_vvip" min="0">
            </div>
        </div>

        <h2 class="form-subtitle">Advanced Options</h2>
        <div class="form-group">
            <label for="purchase_limit">Max Tickets Per Purchase (Optional)</label>
            <input type="number" id="purchase_limit" name="purchase_limit" min="1" placeholder="e.g., 10">
        </div>
        <div class="form-group" style="display: flex; align-items: center; gap: 10px;">
            <input type="checkbox" id="is_unlisted" name="is_unlisted" value="true" style="width: auto;">
            <label for="is_unlisted" style="margin: 0;">Unlisted Event (hide from homepage)</label>
        </div>

        <button type="submit" class="btn" style="margin-top: 1.5rem;">Create Event</button>
    </form>
</div>
{% endblock %}
